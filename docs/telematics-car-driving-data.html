<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 5 Telematics car driving data | Telematics car driving data analytics</title>
  <meta name="description" content="The output format is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 5 Telematics car driving data | Telematics car driving data analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The output format is bookdown::gitbook." />
  <meta name="github-repo" content="sxpyggy/Telematics-Analytics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 5 Telematics car driving data | Telematics car driving data analytics" />
  
  <meta name="twitter:description" content="The output format is bookdown::gitbook." />
  

<meta name="author" content="Guangyuan Gao" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="commercial-policies.html"/>
<link rel="next" href="claims-frequency-modeling.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Telematics car driving data analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>2</b> Overview</a><ul>
<li class="chapter" data-level="2.1" data-path="overview.html"><a href="overview.html#vehicle-identification-number-data"><i class="fa fa-check"></i><b>2.1</b> Vehicle identification number data</a></li>
<li class="chapter" data-level="2.2" data-path="overview.html"><a href="overview.html#policy-data"><i class="fa fa-check"></i><b>2.2</b> Policy data</a></li>
<li class="chapter" data-level="2.3" data-path="overview.html"><a href="overview.html#claim-data"><i class="fa fa-check"></i><b>2.3</b> Claim data</a></li>
<li class="chapter" data-level="2.4" data-path="overview.html"><a href="overview.html#telematics-data"><i class="fa fa-check"></i><b>2.4</b> Telematics data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html"><i class="fa fa-check"></i><b>3</b> Compulsory third party liability policies</a><ul>
<li class="chapter" data-level="3.1" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#data-cleaning"><i class="fa fa-check"></i><b>3.1</b> Data cleaning</a><ul>
<li class="chapter" data-level="3.1.1" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#identification-variables"><i class="fa fa-check"></i><b>3.1.1</b> Identification variables</a></li>
<li class="chapter" data-level="3.1.2" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#time"><i class="fa fa-check"></i><b>3.1.2</b> Time</a></li>
<li class="chapter" data-level="3.1.3" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#policy-duration"><i class="fa fa-check"></i><b>3.1.3</b> Policy duration</a></li>
<li class="chapter" data-level="3.1.4" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#car-features"><i class="fa fa-check"></i><b>3.1.4</b> Car features</a></li>
<li class="chapter" data-level="3.1.5" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#driver-features"><i class="fa fa-check"></i><b>3.1.5</b> Driver features</a></li>
<li class="chapter" data-level="3.1.6" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#experience-rating-factors"><i class="fa fa-check"></i><b>3.1.6</b> Experience rating factors</a></li>
<li class="chapter" data-level="3.1.7" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#other-policy-features"><i class="fa fa-check"></i><b>3.1.7</b> Other policy features</a></li>
<li class="chapter" data-level="3.1.8" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#claims-features"><i class="fa fa-check"></i><b>3.1.8</b> Claims features</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="compulsory-third-party-liability-policies.html"><a href="compulsory-third-party-liability-policies.html#policies-aggregation-w.r.t-cars"><i class="fa fa-check"></i><b>3.2</b> Policies aggregation w.r.t cars</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="commercial-policies.html"><a href="commercial-policies.html"><i class="fa fa-check"></i><b>4</b> Commercial policies</a><ul>
<li class="chapter" data-level="4.1" data-path="commercial-policies.html"><a href="commercial-policies.html#data-cleaning-1"><i class="fa fa-check"></i><b>4.1</b> Data cleaning</a></li>
<li class="chapter" data-level="4.2" data-path="commercial-policies.html"><a href="commercial-policies.html#comparison-of-the-7-coverages"><i class="fa fa-check"></i><b>4.2</b> Comparison of the 7 coverages</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html"><i class="fa fa-check"></i><b>5</b> Telematics car driving data</a><ul>
<li class="chapter" data-level="5.1" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#telematics-variables"><i class="fa fa-check"></i><b>5.1</b> Telematics variables</a><ul>
<li class="chapter" data-level="5.1.1" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#field-mask"><i class="fa fa-check"></i><b>5.1.1</b> Field mask</a></li>
<li class="chapter" data-level="5.1.2" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#vehicle-identification-variables"><i class="fa fa-check"></i><b>5.1.2</b> Vehicle identification variables</a></li>
<li class="chapter" data-level="5.1.3" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#time-1"><i class="fa fa-check"></i><b>5.1.3</b> Time</a></li>
<li class="chapter" data-level="5.1.4" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#gps-variables"><i class="fa fa-check"></i><b>5.1.4</b> GPS variables</a></li>
<li class="chapter" data-level="5.1.5" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#instrument-panel-variables"><i class="fa fa-check"></i><b>5.1.5</b> Instrument panel variables</a></li>
<li class="chapter" data-level="5.1.6" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#accelerometer-variables"><i class="fa fa-check"></i><b>5.1.6</b> Accelerometer variables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#telematics-data-cleaning"><i class="fa fa-check"></i><b>5.2</b> Telematics data cleaning</a><ul>
<li class="chapter" data-level="5.2.1" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#original-telematics-data"><i class="fa fa-check"></i><b>5.2.1</b> Original telematics data</a></li>
<li class="chapter" data-level="5.2.2" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#data-imputation"><i class="fa fa-check"></i><b>5.2.2</b> Data imputation</a></li>
<li class="chapter" data-level="5.2.3" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#derived-acceleration-and-angle-change"><i class="fa fa-check"></i><b>5.2.3</b> Derived acceleration and angle change</a></li>
<li class="chapter" data-level="5.2.4" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#selection-of-telematics-variables"><i class="fa fa-check"></i><b>5.2.4</b> Selection of telematics variables</a></li>
<li class="chapter" data-level="5.2.5" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#saved-telematics-variables"><i class="fa fa-check"></i><b>5.2.5</b> Saved telematics variables</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#three-formats-of-telematics-data"><i class="fa fa-check"></i><b>5.3</b> Three formats of telematics data</a><ul>
<li class="chapter" data-level="5.3.1" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#time-series-of-individual-trips"><i class="fa fa-check"></i><b>5.3.1</b> Time series of individual trips</a></li>
<li class="chapter" data-level="5.3.2" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#summary-statistics-of-telematics-variables"><i class="fa fa-check"></i><b>5.3.2</b> Summary statistics of telematics variables</a></li>
<li class="chapter" data-level="5.3.3" data-path="telematics-car-driving-data.html"><a href="telematics-car-driving-data.html#heatmaps"><i class="fa fa-check"></i><b>5.3.3</b> Heatmaps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html"><i class="fa fa-check"></i><b>6</b> Claims frequency modeling</a><ul>
<li class="chapter" data-level="6.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#data-preprocess"><i class="fa fa-check"></i><b>6.1</b> Data preprocess</a><ul>
<li class="chapter" data-level="6.1.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#variable-preprocess"><i class="fa fa-check"></i><b>6.1.1</b> Variable preprocess</a></li>
<li class="chapter" data-level="6.1.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#data-partition"><i class="fa fa-check"></i><b>6.1.2</b> Data partition</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#generalized-linear-model-for-claim-counts"><i class="fa fa-check"></i><b>6.2</b> Generalized linear model for claim counts</a><ul>
<li class="chapter" data-level="6.2.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#poisson-deviance-loss-function"><i class="fa fa-check"></i><b>6.2.1</b> Poisson deviance loss function</a></li>
<li class="chapter" data-level="6.2.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#generalizd-linear-models"><i class="fa fa-check"></i><b>6.2.2</b> Generalizd linear models</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#improved-glm-with-boosting-methods"><i class="fa fa-check"></i><b>6.3</b> Improved GLM with boosting methods</a><ul>
<li class="chapter" data-level="6.3.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#generalized-boosted-regression-modeling"><i class="fa fa-check"></i><b>6.3.1</b> Generalized boosted regression modeling</a></li>
<li class="chapter" data-level="6.3.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#xgboost"><i class="fa fa-check"></i><b>6.3.2</b> XGBoost</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#improved-glm-with-telematics-individual-trips"><i class="fa fa-check"></i><b>6.4</b> Improved GLM with telematics individual trips</a><ul>
<li class="chapter" data-level="6.4.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#selection-of-archetypal-drivers"><i class="fa fa-check"></i><b>6.4.1</b> Selection of archetypal drivers</a></li>
<li class="chapter" data-level="6.4.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#one-dimensional-convolutional-neural-network"><i class="fa fa-check"></i><b>6.4.2</b> One dimensional convolutional neural network</a></li>
<li class="chapter" data-level="6.4.3" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#glm-with-trips-scores"><i class="fa fa-check"></i><b>6.4.3</b> GLM with trips scores</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#discussions"><i class="fa fa-check"></i><b>6.5</b> Discussions</a><ul>
<li class="chapter" data-level="6.5.1" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#trips-classification-by-a-logistic-model"><i class="fa fa-check"></i><b>6.5.1</b> Trips classification by a logistic model</a></li>
<li class="chapter" data-level="6.5.2" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#competing-methods"><i class="fa fa-check"></i><b>6.5.2</b> Competing methods</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="claims-frequency-modeling.html"><a href="claims-frequency-modeling.html#sensitivity-analysis-and-conclusions"><i class="fa fa-check"></i><b>6.6</b> Sensitivity analysis and conclusions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/sxpyggy/Telematics-Analytics" target="blank">GitHub repo</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Telematics car driving data analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="telematics-car-driving-data" class="section level1">
<h1><span class="header-section-number">Section 5</span> Telematics car driving data</h1>
<p><em>Guangyuan Gao, Yanlin Shi, He Wang</em></p>
<p>In this chapter, we first describe the telematics variables collected.
Then we conduct the data cleaning.
Finally we get three formats of telematics data: (1) time series; (2) summary statistics; (3) heatmaps.</p>
<div id="telematics-variables" class="section level2">
<h2><span class="header-section-number">5.1</span> Telematics variables</h2>
<p>A trip is defined as the period from the engine start to the engine switch off. During a trip, the following 15 variables are recorded second by second. We explain them as follows.</p>
<div id="field-mask" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Field mask</h3>
<ol style="list-style-type: decimal">
<li><code>Field_Mask</code>. This is a hex code which can be converted into a binary vector indicating the validation of the telematics variable 6. <code>GPS_Latitude</code> to 15. <code>Accel_Vertical</code> (using function <code>BMS::hex2bin</code>). Note that the original data records the invalid data as zero, and we need to change those invalid data as <code>NA</code>.</li>
</ol>
</div>
<div id="vehicle-identification-variables" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Vehicle identification variables</h3>
<ol start="2" style="list-style-type: decimal">
<li><p><code>Device_ID</code>. This variable also appears in the userlist dataset. It is used to match the telematics data with the policy data.</p></li>
<li><p><code>Detected_VIN</code>. Given the <code>Device_ID</code>, this variable is not very useful in the current study.</p></li>
</ol>
</div>
<div id="time-1" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Time</h3>
<ol start="4" style="list-style-type: decimal">
<li><p><code>Trip_Number</code>. This variable is the beginning time of a trip in the UTC format. This variable has the same value during the whole trip. It can be converted to the Beijing time by <code>as.POSIXlt(,origin="1970-01-01",tz="Asia/Shanghai")</code>.</p></li>
<li><p><code>Time_Stamp</code>. This variable is the UTC time of the corresponding record in a trip. This variable is increasing by one in a trip file.</p></li>
</ol>
</div>
<div id="gps-variables" class="section level3">
<h3><span class="header-section-number">5.1.4</span> GPS variables</h3>
<p>When the following GPS variables are invalid, they are recorded as zero. To avoid confusion, we change the invalid zero values to <code>NA</code>.</p>
<ol start="6" style="list-style-type: decimal">
<li><p><code>GPS_Latitude</code>. This variable is the GPS latitude in decimal degree multiplied by <span class="math inline">\(10^7\)</span>.</p></li>
<li><p><code>GPS_Longitude</code>. This variable is the GPS longitude in decimal degree multiplied by <span class="math inline">\(10^6\)</span>.</p></li>
</ol>
<p>The GPS spherical coordinates can be converted to the geodetic coordinates <span class="math inline">\((x,y)\)</span> using <code>SoDA::geoXY</code>. The geodetic coordinates can be used to calculate the distance, speed <span class="math inline">\(v^{(xy)}\)</span>, angle <span class="math inline">\(\psi^{(xy)}\)</span>, acceleration <span class="math inline">\(a^{(xy)}\)</span> and angle change <span class="math inline">\(\Delta^{(xy)}\)</span>. There are GPS signal drift problems with the GPS coordinates <span class="math inline">\((x,y)\)</span>, which will affect those derived variables.</p>
<ol start="8" style="list-style-type: decimal">
<li><p><code>GPS_Heading</code>. This variable is the approaching direction of the vehicle <span class="math inline">\(\psi^{(gps)}\)</span> in decimal degree multiplied by <span class="math inline">\(10^2\)</span>. It ranges from 0 to 360.</p></li>
<li><p><code>GPS_Speed</code>. This variable is the vehicle speed <span class="math inline">\(v^{(gps)}\)</span> in <span class="math inline">\(km/h\)</span> multiplied by <span class="math inline">\(10\)</span>. Note that <span class="math inline">\(3.6 km/h = 1 m/s\)</span>.</p></li>
<li><p><code>Positional_Quality</code>. This variable indicates the GPS signal quality. When it is zero, the vehicle cannot be located by the GPS satellite and the above four variables are invalid. Sometimes when it is one, the GPS coordinates might be zero. <strong>So it is better to judge the GPS validation using both the GPS coordinates and this variable</strong>.</p></li>
</ol>
</div>
<div id="instrument-panel-variables" class="section level3">
<h3><span class="header-section-number">5.1.5</span> Instrument panel variables</h3>
<ol start="11" style="list-style-type: decimal">
<li><p><code>VSS_Speed</code>. This is the vehicle speed <span class="math inline">\(v^{(vss)}\)</span> shown in the instrument panel. The insurer told us that when this variable is valid it is more reliable than the <code>GPS_Speed</code> <span class="math inline">\(v^{(gps)}\)</span>.</p></li>
<li><p><code>Engine_RPM</code>. This is the rotation of engine per minute shown in the instrument panel. We do not use this variable in the study.</p></li>
</ol>
</div>
<div id="accelerometer-variables" class="section level3">
<h3><span class="header-section-number">5.1.6</span> Accelerometer variables</h3>
<p>The following three variables are measured by a three-axis accelerometer.</p>
<ol start="13" style="list-style-type: decimal">
<li><p><code>Accel_Lateral</code>. The lateral acceleration <span class="math inline">\(a&#39;^{(acc)}\)</span> is perpendicular to the car approaching direction, which measures the change of car approaching direction.</p></li>
<li><p><code>Accel_Longitudinal</code>. The longitudinal acceleration <span class="math inline">\(a^{(acc)}\)</span> is along the car approaching direction, which measures the change of speed values.</p></li>
<li><p><code>Accel_Vertical</code>. The vertical acceleration is always around the gravity <span class="math inline">\(9.8\)</span>m/s<span class="math inline">\(^2\)</span>.</p></li>
</ol>
<p>There is calibration bias with these variables as we will see later. And it is difficult to deal with this issue.
<strong>Therefore, we will use the derived longitudinal acceleration rates <span class="math inline">\(a^{(gps)}, a^{(vss)}, a^{(xy)}\)</span> which are obtained from the GPS speed <span class="math inline">\(v^{(gps)}\)</span>, the VSS speed <span class="math inline">\(v^{(vss)}\)</span>, and the GPS coordinates <span class="math inline">\((x,y)\)</span>, respectively. And we will replace the lateral acceleration by the angle changes of heading <span class="math inline">\(\Delta^{(gps)},\Delta^{(xy)}\)</span>, which are obtained from the GPS heading <span class="math inline">\(\psi^{(gps)}\)</span> and the GPS coordinates <span class="math inline">\((x,y)\)</span>, respectively.</strong></p>
</div>
</div>
<div id="telematics-data-cleaning" class="section level2">
<h2><span class="header-section-number">5.2</span> Telematics data cleaning</h2>
<p>Telematics car driving data is a big data.
Data cleaning for big data is very challenging since we need to apply the same cleaning procedure to all the trips of all cars.
The data cleaning should be flexible enough in order to be applied to all trips.
On the other hand, according to the large number theorem, if there were no systematic data error, we could get reliable results using summary statistics of telematics variables even though we did not perform a perfect data cleaning.</p>
<p>We first visualize several trips to find what data issues need to be addressed during the data cleaning. Then we design a “naive” data cleaning procedure. We modify the data cleaning procedure by monitoring its performance on selected trips. Finally we get a “universally” applied data cleaning procedure.</p>
<div id="original-telematics-data" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Original telematics data</h3>
<p>We first look at three trips of three drivers in the following Figures. For each trip, we draw the following 6 plots:</p>
<ol style="list-style-type: decimal">
<li>Top-left: The time series of GPS signal quality, instrument panel signal quality, and accelerometer signal quality;</li>
<li>Topright: The trajectory <span class="math inline">\((x,y)\)</span>;</li>
<li>Middle-left: The time series of GPS speed <span class="math inline">\(v^{(gps)}\)</span>, VSS speed <span class="math inline">\(v^{(vss)}\)</span>,</li>
<li>Middle-right: The time series of GPS heading <span class="math inline">\(\psi^{(gps)}\)</span>;</li>
<li>Bottom-left: The time series of longitudinal acceleration <span class="math inline">\(a^{(acc)}\)</span>;</li>
<li>Bottom-right: The time series of lateral acceleration <span class="math inline">\(a&#39;^{(acc)}\)</span>.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:fig1-1"></span>
<img src="plots/tele_data_clean/tele_data_8_10_raw.png" alt="One trip of driver  8" width="80%" />
<p class="caption">
Figure 5.1: One trip of driver 8
</p>
</div>
<p>Figure <a href="telematics-car-driving-data.html#fig:fig1-1">5.1</a> shows a very short trip of 2 minutes for driver 8.</p>
<ul>
<li><p>The top-left plot shows that the vss signal is missing in the last 40 seconds.</p></li>
<li><p>The top-right and middle-right plots show that the vehicle starts from east-south and approaches to west-north. Note that there are jumps between <span class="math inline">\(\psi^{(gps)}=0\)</span> and <span class="math inline">\(\psi^{(gps)}=360\)</span>.</p></li>
<li><p>The middle-left plot shows that the GPS speeds match with the VSS speeds and the VSS speeds are missed for the last 40 seconds.</p></li>
<li><p>The bottom two plots show that there are <strong>calibration bias</strong> with both the acceleration rates. We might correct for the bias by subtracting the median of acceleration rates.</p></li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:fig1-2"></span>
<img src="plots/tele_data_clean/tele_data_8_150_raw.png" alt="Two trips of driver  8" width="49%" /><img src="plots/tele_data_clean/tele_data_8_500_raw.png" alt="Two trips of driver  8" width="49%" />
<p class="caption">
Figure 5.2: Two trips of driver 8
</p>
</div>
<p>Figure <a href="telematics-car-driving-data.html#fig:fig1-2">5.2</a> shows another two trips of driver 8.</p>
<ul>
<li><p>For the left trip, the bottom two plots indicate the calibration bias of accelerometer again.</p></li>
<li><p>For the right trip, there are several parts missing the GPS signal. We need to interpolate the GPS coordinates, the GPS speed and heading when the GPS signal is missing.</p></li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:fig2"></span>
<img src="plots/tele_data_clean/tele_data_288_10_raw.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_clean/tele_data_288_150_raw.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_clean/tele_data_288_500_raw.png" alt="Three trips of driver  288" width="33%" />
<p class="caption">
Figure 5.3: Three trips of driver 288
</p>
</div>
<p>Figure <a href="telematics-car-driving-data.html#fig:fig2">5.3</a> shows three trips of driver 288. The GPS signals seem stable for the three trips, and the accelerometer seems work well except for the lateral acceleration of the second trip.</p>
<div class="figure" style="text-align: center"><span id="fig:fig3"></span>
<img src="plots/tele_data_clean/tele_data_1188_10_raw.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_clean/tele_data_1188_150_raw.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_clean/tele_data_1188_500_raw.png" alt="Three trips of driver  1188" width="33%" />
<p class="caption">
Figure 5.4: Three trips of driver 1188
</p>
</div>
<p>Figure <a href="telematics-car-driving-data.html#fig:fig3">5.4</a> shows three trips of driver 1188. The GPS signals are unstable in the first two trips, and the VSS signals are unstable for the last two trips. There seems calibration bias of the acceleration rates for all these trips.</p>
<p>In a <strong>summary</strong>, we need to do the following data cleaning:</p>
<ul>
<li><p>There are missing values in GPS coordinates <span class="math inline">\((x,y)\)</span>, GPS speed <span class="math inline">\(v^{(gps)}\)</span>, GPS heading <span class="math inline">\(\psi^{(gps)}\)</span>, and VSS speed <span class="math inline">\(v^{(vss)}\)</span>. <strong>We need to interpolate these missing values.</strong></p></li>
<li><p>There are frequent calibration problems with the accelerometer variables <span class="math inline">\(a^{(acc)},a&#39;^{(acc)}\)</span>. It is difficult to remove the calibration bias since the incurring time and the severity of calibration bias are rather random. <strong>We’d better use other variables to describe the acceleration in the two directions.</strong></p></li>
</ul>
</div>
<div id="data-imputation" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Data imputation</h3>
<p>Data imputation is necessary if we analyze the time series of telematics variables.
However, if we are only interested in summary statistics of telematics variables such as mean of speed, standard deviation of acceleration, we do not need to interpolate the missing values according to the law of large number.</p>
<p>We linearly interpolate the missing values of GPS coordinates <span class="math inline">\((x,y)\)</span>, GPS speed <span class="math inline">\(v^{(gps)}\)</span>, GPS heading <span class="math inline">\(\psi^{(gps)}\)</span>, and VSS speed <span class="math inline">\(v^{(vss)}\)</span>, respectively. Note that when the missing values incur at the boundaries of a trip, we cannot interpolate them.</p>
<!-- The imputation model is a generalized additive model using the B-spline basis of time in degree one placing knots in every valid value. -->
<!-- Note that model fitting may take a long time if the trip duration is long.  -->
<p>Remarks: The imputation of GPS heading around 0 or 360 degree is difficult. However, in our study we are more interested in the angle change and we take sin of the angle change. Those calculations reduce the effects of wrong GPS heading imputation. GPS drifts may affect GPS speed, angle change and acceleration. However, GPS drifts does not happen frequently.</p>
</div>
<div id="derived-acceleration-and-angle-change" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Derived acceleration and angle change</h3>
<p>Since the quality of accelerometer variables are poor, we need to find other variables to measure the acceleration and direction changes.</p>
<p>We calculate the acceleration rate by using GPS speed <span class="math inline">\(v^{(gps)}\)</span>, VSS speed <span class="math inline">\(v^{(vss)}\)</span> or GPS coordinates <span class="math inline">\((x,y)\)</span>:
<span class="math display">\[\begin{equation} 
\begin{aligned} 
a^{(gps)}_t&amp;=v^{(gps)}_{t}-v^{(gps)}_{t-1} \\ 
a^{(vss)}_t&amp;=v^{(vss)}_{t}-v^{(vss)}_{t-1} \\
a^{(xy)}_t&amp;=v^{(xy)}_{t}-v^{(xy)}_{t-1}
\end{aligned}
\end{equation}\]</span>
where <span class="math display">\[v^{(xy)}_t=\sqrt{(x_t-x_{t-1})^2+(y_t-y_{t-1})^2}.\]</span></p>
<p>We measure the direction change by the angle change which can be calculated using either GPS heading <span class="math inline">\(\psi^{(gps)}\)</span> or GPS coordinates <span class="math inline">\((x,y)\)</span>:
<span class="math display">\[\begin{equation} 
\begin{aligned} 
\Delta^{(gps)}_t&amp;=\arcsin\left( \sin\left(\psi^{(gps)}_{t}-\psi^{(gps)}_{t-1}\right)\right) \\ 
\Delta^{(xy)}_t&amp;=\arcsin\left(\sin\left(\psi^{(xy)}_{t}-\psi^{(xy)}_{t-1}\right)\right)
\end{aligned}
\end{equation}\]</span>
where
<span class="math display">\[\psi^{(xy)}_t=\mathbb{1}_{(-\infty,0)}\left(\arctan2\left(\frac{x_t-x_{t-1}}{y_t-y_{t-1}}\right)\right)\times2\pi+\arctan2\left(\frac{x_t-x_{t-1}}{y_t-y_{t-1}}\right)\in[0,2\pi].\]</span>
Note that a positive value of <span class="math inline">\(\Delta\)</span> indicates a right turn while the negative one indicates a left turn. The jump between 0 and 360 is not an issue since we take sin.</p>
<p>Remarks: Be careful when converting speed units from km/h to m/s, and angle units from decimal degree to radian. The original GPS coordinates is spherical coordinates and they need to be converted to the geodetic coordinates before doing the above calculation.</p>
</div>
<div id="selection-of-telematics-variables" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Selection of telematics variables</h3>
<p>We discuss the selection among the telematics variables: speed <span class="math inline">\(v^{(gps)},v^{(vss)},v^{(xy)}\)</span>, acceleration <span class="math inline">\(a^{(gps)},a^{(vss)},a^{(xy)}\)</span>, angle <span class="math inline">\(\psi^{(gps)},\psi^{(xy)}\)</span>, and angle change <span class="math inline">\(\Delta^{(gps)},\Delta^{(xy)}\)</span>.
After data imputation and deriving the corresponding telematics variables, we draw the same trips as those in Figures <a href="telematics-car-driving-data.html#fig:fig1-1">5.1</a>,<a href="telematics-car-driving-data.html#fig:fig1-2">5.2</a>, <a href="telematics-car-driving-data.html#fig:fig2">5.3</a> and <a href="telematics-car-driving-data.html#fig:fig3">5.4</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:fig1-1-p"></span>
<img src="plots/tele_data_clean/tele_data_8_10_imp.png" alt="One trip of driver  8" width="80%" />
<p class="caption">
Figure 5.5: One trip of driver 8
</p>
</div>
<ul>
<li><p>The top two plots in Figure <a href="telematics-car-driving-data.html#fig:fig1-1-p">5.5</a> are exactly the same as the top two in Figure <a href="telematics-car-driving-data.html#fig:fig1-1">5.1</a>.</p></li>
<li><p>In the middle-left plot, we add <span class="math inline">\(v^{(xy)}\)</span> for comparison. Note that there is a GPS drift around 60 second causing a jump of <span class="math inline">\(v^{(xy)}\)</span>.</p></li>
<li><p>In the middle-right plot, we add <span class="math inline">\(\psi^{(xy)}\)</span> for comparison. The derived heading direction <span class="math inline">\(\psi^{(xy)}\)</span> is always zero when the vehicle stands still after 50 seconds.</p></li>
<li><p>In the bottom plots we show the derived acceleration <span class="math inline">\(a^{(gps)},a^{(vss)},a^{(xy)}\)</span> and the derived angle change <span class="math inline">\(\Delta^{(gps)},\Delta^{(xy)}\)</span>.</p></li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:gps-drift"></span>
<img src="plots/tele_data_clean/tele_data_8_10_detail.png" alt="GPS drift" width="100%" />
<p class="caption">
Figure 5.6: GPS drift
</p>
</div>
<p>We investigate the GPS drift around 60 seconds. In Figure <a href="telematics-car-driving-data.html#fig:gps-drift">5.6</a>, we draw the time series of <span class="math inline">\((x,y)\)</span> coordinates, <span class="math inline">\(v^{(xy)}\)</span> and <span class="math inline">\(\psi^{(xy)}\)</span> from 45 second to 65 second, respectively.
We see a jump of <span class="math inline">\((x,y)\)</span> at 62 second which leads to an extremely speed jump from 0 to more than 200 km/h and an extremely direction jump from 0 to more than 60 degree in a second.</p>
<p><strong>We conclude that the derived variables from GPS coordinates are unstable compared with the derived variables from GPS speed, GPS heading and VSS speed. This is due to the measurement error of GPS coordinates and its leverage effects on the acceleration and angle change.</strong></p>
<div class="figure" style="text-align: center"><span id="fig:fig1-2-p"></span>
<img src="plots/tele_data_clean/tele_data_8_150_imp.png" alt="Two trips of driver  8" width="49%" /><img src="plots/tele_data_clean/tele_data_8_500_imp.png" alt="Two trips of driver  8" width="49%" />
<p class="caption">
Figure 5.7: Two trips of driver 8
</p>
</div>
<ul>
<li><p>For the second trip of driver 8, we see a GPS drift around 70 second.</p></li>
<li><p>For the third trip of driver 8, the imputation works very well for GPS coordinates, GPS speed and GPS heading. GPS drifts are often observed when there is a speed peak. The heading <span class="math inline">\(\psi^{(xy)}\)</span> derived from GPS coordinates is always incorrectly zero when the vehicle stops. Again, the acceleration and angle change derived from GPS coordinates are very unstable.</p></li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:fig2-p"></span>
<img src="plots/tele_data_clean/tele_data_288_10_imp.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_clean/tele_data_288_150_imp.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_clean/tele_data_288_500_imp.png" alt="Three trips of driver  288" width="33%" />
<p class="caption">
Figure 5.8: Three trips of driver 288
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig3-p"></span>
<img src="plots/tele_data_clean/tele_data_1188_10_imp.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_clean/tele_data_1188_150_imp.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_clean/tele_data_1188_500_imp.png" alt="Three trips of driver  1188" width="33%" />
<p class="caption">
Figure 5.9: Three trips of driver 1188
</p>
</div>
<p>There are no new observations in Figures <a href="telematics-car-driving-data.html#fig:fig2-p">5.8</a> and <a href="telematics-car-driving-data.html#fig:fig3-p">5.9</a>.</p>
<p><strong>In a summary, we conclude that</strong></p>
<ul>
<li><p>The linearly imputation works well.</p></li>
<li><p>Due to the GPS coordinates drift, we should avoid to use the variables derived from <span class="math inline">\((x,y)\)</span>. Instead, the telematics variable <span class="math inline">\(v^{(vss)}, v^{(gps)}, a^{(vss)}, a^{(gps)}, \psi^{(gps)}, \Delta^{(gps)}\)</span> are reliable.</p></li>
<li><p>The distance should be derived using the speed variable rather than the coordinates.</p></li>
<li><p>The three variables <span class="math inline">\(v,a,\Delta\)</span> are related to driving behavior, while the direction <span class="math inline">\(\psi^{(gps)}\)</span> is not relevant.</p></li>
<li><p>We should use the variables from the same sensor in a certain study, i.e., either <span class="math inline">\((v^{(vss)},a^{(vss)})\)</span> or <span class="math inline">\((v^{(gps)},a^{(gps)},\Delta^{(gps)})\)</span>.</p></li>
</ul>
</div>
<div id="saved-telematics-variables" class="section level3">
<h3><span class="header-section-number">5.2.5</span> Saved telematics variables</h3>
<p>To save the disk space, for each trip we extract the following telematics variables.</p>
<ol style="list-style-type: decimal">
<li><p>GPS speed <span class="math inline">\(v^{(gps)}\)</span></p></li>
<li><p>GPS heading <span class="math inline">\(\psi^{(gps)}\)</span></p></li>
<li><p>Validation of GPS</p></li>
<li><p>VSS speed <span class="math inline">\(v^{(vss)}\)</span></p></li>
<li><p>Validation of VSS</p></li>
</ol>
<p>Note that we can derive the acceleration and angle change easily from the speed and heading. Note that if the GPS is invalid, the corresponding variables are recorded as NA. So does the VSS.</p>
<p>We name the trip file as <code>Device_ID_Trip_Number.csv</code>, so the <code>Device_ID</code> and the trip beginning time <code>Trip_Number</code> are saved in the file name.
We save the preprocessed “thin” trips into <strong><code>./telematics_data/compulsory_cleaned/Device_ID/Policy_Code/Device_ID_Trip_Number.csv</code></strong>.</p>
<p>We draw the speed <span class="math inline">\(v^{(gps)}\)</span>, heading direction <span class="math inline">\(\psi^{(gps)}\)</span>, acceleration <span class="math inline">\(a^{(gps)}\)</span>, angle change <span class="math inline">\(\Delta^{(gps)}\)</span> for the previous trips.
We denote the times for missing values by a horizontal line at the top of each plot. Note that we have capped the <span class="math inline">\(a^{(gps)}\)</span> between <span class="math inline">\((-4,4)\)</span>m/s<span class="math inline">\(^2\)</span>, and <span class="math inline">\(\Delta^{(gps)}\)</span> between <span class="math inline">\((-45^{\circ},45^{\circ})\)</span>.</p>
<div class="figure" style="text-align: center"><span id="fig:fig1-gps"></span>
<img src="plots/tele_data_gps/tele_data_8_10_raw.png" alt="Three trips of driver  8" width="33%" /><img src="plots/tele_data_gps/tele_data_8_150_raw.png" alt="Three trips of driver  8" width="33%" /><img src="plots/tele_data_gps/tele_data_8_500_raw.png" alt="Three trips of driver  8" width="33%" />
<p class="caption">
Figure 5.10: Three trips of driver 8
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig2-gps"></span>
<img src="plots/tele_data_gps/tele_data_288_10_raw.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_gps/tele_data_288_150_raw.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_gps/tele_data_288_500_raw.png" alt="Three trips of driver  288" width="33%" />
<p class="caption">
Figure 5.11: Three trips of driver 288
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig3-gps"></span>
<img src="plots/tele_data_gps/tele_data_1188_10_raw.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_gps/tele_data_1188_150_raw.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_gps/tele_data_1188_500_raw.png" alt="Three trips of driver  1188" width="33%" />
<p class="caption">
Figure 5.12: Three trips of driver 1188
</p>
</div>
<p>Finally, we interpolate the missing <span class="math inline">\(v^{(gps)}\)</span> and <span class="math inline">\(\psi^{(gps)}\)</span> linearly. We calculate <span class="math inline">\(a^{(gps)}\)</span> and <span class="math inline">\(\Delta^{(gps)}\)</span> from the imputed values. The corresponding figures are shown as follows.</p>
<div class="figure" style="text-align: center"><span id="fig:fig1-gps-p"></span>
<img src="plots/tele_data_gps/tele_data_8_10_imp.png" alt="Three trips of driver  8" width="33%" /><img src="plots/tele_data_gps/tele_data_8_150_imp.png" alt="Three trips of driver  8" width="33%" /><img src="plots/tele_data_gps/tele_data_8_500_imp.png" alt="Three trips of driver  8" width="33%" />
<p class="caption">
Figure 5.13: Three trips of driver 8
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig2-gps-p"></span>
<img src="plots/tele_data_gps/tele_data_288_10_imp.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_gps/tele_data_288_150_imp.png" alt="Three trips of driver  288" width="33%" /><img src="plots/tele_data_gps/tele_data_288_500_imp.png" alt="Three trips of driver  288" width="33%" />
<p class="caption">
Figure 5.14: Three trips of driver 288
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig3-gps-p"></span>
<img src="plots/tele_data_gps/tele_data_1188_10_imp.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_gps/tele_data_1188_150_imp.png" alt="Three trips of driver  1188" width="33%" /><img src="plots/tele_data_gps/tele_data_1188_500_imp.png" alt="Three trips of driver  1188" width="33%" />
<p class="caption">
Figure 5.15: Three trips of driver 1188
</p>
</div>
</div>
</div>
<div id="three-formats-of-telematics-data" class="section level2">
<h2><span class="header-section-number">5.3</span> Three formats of telematics data</h2>
<p>We consider three formats of telematics data. The first format is <strong>time series</strong>. The second format is <strong>summary statistics</strong>. The third format is <strong>heatmap</strong>.</p>
<p>The data imputation is important for the first format, while the imputation is not so important for the second and the third format. Hence, to get the second and third formats, several steps above can be skipped, i.e., we select the valid GPS variables and discard the invalid GPS variables and we do not need to perform the data imputation.</p>
<p>No matter which format is used, we must consider the speed interval and cap the acceleration and angle change. A particular speed interval makes the comparison among drivers more sensible, and truncation eliminates the leverage effects of outliers. The activation functions in the neural networks play the similar role.</p>
<div id="time-series-of-individual-trips" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Time series of individual trips</h3>
<p>An observation from Figure <a href="telematics-car-driving-data.html#fig:fig1-1">5.1</a> is that a trip may contain several standing still phases <span class="math inline">\(\{t: v_t=0,a_t=0\}\)</span>.
Those phases should be removed since they have nothing about the driving behavior. Also note that when the car speed is slow, the GPS tends to be more unreliable and the angle change tends to be large, e.g., parking.
Suppose we consider the driving behavior in the speed interval <span class="math inline">\([10,60]\)</span> km/h. By focusing on a particular speed bucket, we can make more sensible comparison among drivers.</p>
<p>We first extract partial trips in <span class="math inline">\([8, 62]\)</span> km/h, and then set the acceleration and angle change in the shifting parts <span class="math inline">\([8,10] \cup [60,62]\)</span> km/h as zero. Finally, we set the speed as <span class="math inline">\(10\)</span> and <span class="math inline">\(60\)</span> km/h in the shifting parts <span class="math inline">\([8,10] \cup [60,62]\)</span> km/h, respectively.</p>
<p>We save the first <span class="math inline">\(\tau=5\times60\)</span> seconds of such concatenated trips for each trip. Note that for the trips considered above, we obtain the following three concatenated trips in Figure <a href="telematics-car-driving-data.html#fig:trip-concatenated">5.16</a>. The other trips do not spend at least 5 minutes in speed interval <span class="math inline">\([10,60]\)</span> km/h.</p>
<div class="figure" style="text-align: center"><span id="fig:trip-concatenated"></span>
<img src="plots/telematics_concatenated/driver_288_trip_500.png" alt="The third trip of driver 288. The first and second trips of driver 1188." width="33%" /><img src="plots/telematics_concatenated/driver_1188_trip_10.png" alt="The third trip of driver 288. The first and second trips of driver 1188." width="33%" /><img src="plots/telematics_concatenated/driver_1188_trip_150.png" alt="The third trip of driver 288. The first and second trips of driver 1188." width="33%" />
<p class="caption">
Figure 5.16: The third trip of driver 288. The first and second trips of driver 1188.
</p>
</div>
<p>We extract at most 500 trips for each car in the folder <strong><code>./telematics_data/compulsory_concatenated/Device_ID/Device_ID_Trip_Nubmer.csv</code></strong>.
Therefore, for each driver <span class="math inline">\(i=1,\ldots,n\)</span>, we have <span class="math inline">\(c_i\in[0,500]\)</span> pre-processed trips. The distribution of <span class="math inline">\(c_i\in(0,500)\)</span> is shown in Figure <a href="telematics-car-driving-data.html#fig:concatenated-summary">5.17</a>.
Note that there are 175 cars (8%) without pre-processed trips and there are 1721 cars (75%) cars with 500 pre-processed trips.</p>
<p>For driver <span class="math inline">\(i\)</span> with <span class="math inline">\(c_i&gt;0\)</span> trips, we stack its trips into a <span class="math inline">\(c_i\times300\times3\)</span> array <span class="math inline">\(\mathbb{z}_i=(z_{i,1},\ldots,z_{i,c_i})&#39;\)</span>, where each trip <span class="math inline">\(z_{i,j}\in[10,60]^{300}\times[-4,4]^{300}\times[-45^{\circ},45^{\circ}]^{300}\)</span>.
Note that we will use the un-bolded notation <span class="math inline">\(z_j\)</span> to refer to a trip <span class="math inline">\(j\)</span> without considering which driver it belongs to.</p>
<div class="figure" style="text-align: center"><span id="fig:concatenated-summary"></span>
<img src="plots/telematics_concatenated/trip_summary.png" alt="The distribution of pre-processed trips in (0, 500)" width="50%" />
<p class="caption">
Figure 5.17: The distribution of pre-processed trips in (0, 500)
</p>
</div>
</div>
<div id="summary-statistics-of-telematics-variables" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Summary statistics of telematics variables</h3>
<p>We extract several summary statistics for each trip. We categorize those summary statistics into two types: <strong>exposure</strong> and <strong>driving style</strong>. We define two status of driving: <strong>idle phrase and moving phrase</strong>. In the idle phrase, the speed, acceleration and angle change are simultaneously equal to zero. In the moving phrase, at least one of the speed, acceleration and angle change is not equal to zero. Note that we receive for <span class="math inline">\(2296-165=2131\)</span> cars since <span class="math inline">\(165\)</span> cars do not have telematics information. We save them in the folder <strong><code>./telematics_data/compulsory_statistics/Device_ID.csv</code></strong>.</p>
<div id="exposures" class="section level4">
<h4><span class="header-section-number">5.3.2.1</span> Exposures</h4>
<ol style="list-style-type: decimal">
<li><p>Total distance in km (1 variable).</p></li>
<li><p>Total moving time in second (1 variable).</p></li>
<li><p>Total standing time in second (1 variable).</p></li>
<li><p>The day of the trip from Monday to Sunday (1 variable).</p></li>
<li><p>Driving distance split into morning peak (7-9), day (9-17), afternoon peak (17-19), evening (19-22), and night (22-7) (5 variables).</p></li>
<li><p>Driving time (moving time) split into morning peak (7-9), day (9-17), afternoon peak (17-19), evening (19-22), and night (22-7) (5 variables).</p></li>
</ol>
<p>In Figure <a href="telematics-car-driving-data.html#fig:exposure-summary">5.18</a> we show the distribution of observation period, days having trips, driving hours per day and average daily driving distance.</p>
<div class="figure" style="text-align: center"><span id="fig:exposure-summary"></span>
<img src="plots/exposure.png" alt="The distribution of telematics exposure" width="80%" />
<p class="caption">
Figure 5.18: The distribution of telematics exposure
</p>
</div>
</div>
<div id="driving-styles" class="section level4">
<h4><span class="header-section-number">5.3.2.2</span> Driving styles</h4>
<ol style="list-style-type: decimal">
<li><p>Average/median/standard deviation/extreme values (5% and 95% quantiles) of speed/acceleration/angle change during the driving phrase (15 variables).</p></li>
<li><p>Driving time (moving time) split into in the speed interval 0-10/10-20/20-30/…/110-120/&gt;120 (13 variables).</p></li>
<li><p>Driving time (moving time) split into the acceleration intervals (-4)-(-3.5)/(-3.5)-(-2.5)/…/2.5-3.5/3.5-4 (9 variables).</p></li>
<li><p>Driving time (moving time) split into the angle change intervals (-45)-(-35)/(-35)-(-25)/…/25-35/35-45 (9 variables).</p></li>
</ol>
</div>
</div>
<div id="heatmaps" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Heatmaps</h3>
<p>Heatmaps reflect the interaction among speed, acceleration, and angle change. For each car, we construct three heatmaps: <strong>speed-acceleration heatmap, speed-angle heatmap, and acceleration-angle heatmap</strong>. We use the telematics data in the moving phrase to construct the heatmap. The heatmaps are saved in <strong><code>./telematics_data/compulsory_speed_accel_angle/Device_ID_accel_angle.csv (Device_ID_speed_accel.csv, Device_ID_speed_angle.csv)</code></strong>.</p>
<p>The speed interval is divided into sub-intervals at 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 200. The acceleration is divided into sub-intervals at -4, -3.5, -2.5, -1.5, -0.5, 0.5, 1.5, 2.5, 3.5, 4. The angle change is divided into sub-intervals at -45, -35, -25, -15, -5, 5, 15, 25, 35, 45.<br />
We typically truncate the speed interval and cap the acceleration and angle change interval.
We need to make sure the considered intervals contain sufficient observations to receive stable heatmaps. Usually, we need to normalize the heatmap. We could do the normalization in each speed sub-interval or in several consecutive speed sub-intervals.</p>

<!-- # (PART) MODELLING {-} -->
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="commercial-policies.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="claims-frequency-modeling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": "github"
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
